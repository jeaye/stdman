.TH std::basic_fstream 3 "2021.11.17" "http://cppreference.com" "C++ Standard Libary"
.SH NAME
std::basic_fstream \- std::basic_fstream

.SH Synopsis
   Defined in header <fstream>
   template<

       class CharT,
       class Traits = std::char_traits<CharT>

   > class basic_fstream : public std::basic_iostream<CharT, Traits>

   The class template basic_fstream implements high-level input/output operations on
   file based streams. It interfaces a file-based streambuffer (std::basic_filebuf)
   with the high-level interface of (std::basic_iostream).

   A typical implementation of std::basic_fstream holds only one non-derived data
   member: an instance of std::basic_filebuf<CharT, Traits>.

   std-basic fstream-inheritance.svg
   About this image

                                   Inheritance diagram

   Two specializations for common character types are also defined:

   Defined in header <fstream>
   Type     Definition
   fstream  basic_fstream<char>
   wfstream basic_fstream<wchar_t>

.SH Member types

   Member type Definition
   char_type   CharT
   traits_type Traits; the program is ill-formed if Traits::char_type is not CharT.

   int_type    Traits::int_type
   pos_type    Traits::pos_type
   off_type    Traits::off_type

.SH Member functions

   constructor                     constructs the file stream
                                   \fI(public member function)\fP
   destructor                      destructs the basic_fstream and the associated
   \fB[virtual]\fP (implicitly declared) buffer, closes the file
                                   \fI(virtual public member function)\fP
   operator=                       moves the file stream
   \fI(C++11)\fP                         \fI(public member function)\fP
   swap                            swaps two file streams
   \fI(C++11)\fP                         \fI(public member function)\fP
   rdbuf                           returns the underlying raw file device object
                                   \fI(public member function)\fP
.SH File operations
   is_open                         checks if the stream has an associated file
                                   \fI(public member function)\fP
   open                            opens a file and associates it with the stream
                                   \fI(public member function)\fP
   close                           closes the associated file
                                   \fI(public member function)\fP

.SH Non-member functions

   std::swap(std::basic_fstream) specializes the std::swap algorithm
   \fI(C++11)\fP                       \fI(function template)\fP

Inherited from std::basic_istream

.SH Member functions

.SH Formatted input
   operator>> extracts formatted data
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
.SH Unformatted input
   get        extracts characters
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
   peek       reads the next character without extracting it
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
   unget      unextracts a character
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
   putback    puts character into input stream
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
   getline    extracts characters until the given character is found
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
   ignore     extracts and discards characters until the given character is found
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
   read       extracts blocks of characters
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
   readsome   extracts already available blocks of characters
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
              returns number of characters extracted by last unformatted input
   gcount     operation
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
.SH Positioning
   tellg      returns the input position indicator
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
   seekg      sets the input position indicator
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP
.SH Miscellaneous
   sync       synchronizes with the underlying storage device
              \fI(public member function of std::basic_istream<CharT,Traits>)\fP

.SH Member classes

   sentry implements basic logic for preparation of the stream for input operations
          \fI(public member class of std::basic_istream<CharT,Traits>)\fP

Inherited from std::basic_ostream

.SH Member functions

.SH Formatted output
   operator<< inserts formatted data
              \fI(public member function of std::basic_ostream<CharT,Traits>)\fP
.SH Unformatted output
   put        inserts a character
              \fI(public member function of std::basic_ostream<CharT,Traits>)\fP
   write      inserts blocks of characters
              \fI(public member function of std::basic_ostream<CharT,Traits>)\fP
.SH Positioning
   tellp      returns the output position indicator
              \fI(public member function of std::basic_ostream<CharT,Traits>)\fP
   seekp      sets the output position indicator
              \fI(public member function of std::basic_ostream<CharT,Traits>)\fP
.SH Miscellaneous
   flush      synchronizes with the underlying storage device
              \fI(public member function of std::basic_ostream<CharT,Traits>)\fP

.SH Member classes

   sentry implements basic logic for preparation of the stream for output operations
          \fI(public member class of std::basic_ostream<CharT,Traits>)\fP

Inherited from std::basic_ios

.SH Member types

   Member type Definition
   char_type   CharT
   traits_type Traits
   int_type    Traits::int_type
   pos_type    Traits::pos_type
   off_type    Traits::off_type

.SH Member functions

.SH State functions
   good           checks if no error has occurred i.e. I/O operations are available
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   eof            checks if end-of-file has been reached
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   fail           checks if an error has occurred
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   bad            checks if a non-recoverable error has occurred
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   operator!      checks if an error has occurred (synonym of fail())
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   operator void*
   operator bool  checks if no error has occurred (synonym of !fail())
   \fI(until C++11)\fP  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   \fI(since C++11)\fP
   rdstate        returns state flags
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   setstate       sets state flags
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   clear          modifies state flags
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
.SH Formatting
   copyfmt        copies formatting information
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   fill           manages the fill character
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
.SH Miscellaneous
   exceptions     manages exception mask
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   imbue          sets the locale
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   rdbuf          manages associated stream buffer
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   tie            manages tied stream
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   narrow         narrows characters
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP
   widen          widens characters
                  \fI(public member function of std::basic_ios<CharT,Traits>)\fP

Inherited from std::ios_base

.SH Member functions

.SH Formatting
   flags             manages format flags
                     \fI(public member function of std::ios_base)\fP
   setf              sets specific format flag
                     \fI(public member function of std::ios_base)\fP
   unsetf            clears specific format flag
                     \fI(public member function of std::ios_base)\fP
   precision         manages decimal precision of floating point operations
                     \fI(public member function of std::ios_base)\fP
   width             manages field width
                     \fI(public member function of std::ios_base)\fP
.SH Locales
   imbue             sets locale
                     \fI(public member function of std::ios_base)\fP
   getloc            returns current locale
                     \fI(public member function of std::ios_base)\fP
.SH Internal extensible array
   xalloc            returns a program-wide unique integer that is safe to use as index
   \fB[static]\fP          to pword() and iword()
                     \fI(public static member function of std::ios_base)\fP
                     resizes the private storage if necessary and access to the long
   iword             element at the given index
                     \fI(public member function of std::ios_base)\fP
                     resizes the private storage if necessary and access to the void*
   pword             element at the given index
                     \fI(public member function of std::ios_base)\fP
.SH Miscellaneous
   register_callback registers event callback function
                     \fI(public member function of std::ios_base)\fP
   sync_with_stdio   sets whether C++ and C IO libraries are interoperable
   \fB[static]\fP          \fI(public static member function of std::ios_base)\fP
.SH Member classes
   failure           stream exception
                     \fI(public member class of std::ios_base)\fP
   Init              initializes standard stream objects
                     \fI(public member class of std::ios_base)\fP

.SH Member types and constants
   Type           Explanation
                  stream open mode type

                  The following constants are also defined:

                  Constant Explanation
                  app      seek to the end of stream before each write
   openmode       binary   open in binary mode
                  in       open for reading
                  out      open for writing
                  trunc    discard the contents of the stream when opening
                  ate      seek to the end of stream immediately after open

                  \fI(typedef)\fP
                  formatting flags type

                  The following constants are also defined:

                  Constant    Explanation
                  dec         use decimal base for integer I/O: see std::dec
                  oct         use octal base for integer I/O: see std::oct
                  hex         use hexadecimal base for integer I/O: see std::hex
                  basefield   dec|oct|hex. Useful for masking operations
                  left        left adjustment (adds fill characters to the right): see
                              std::left
                  right       right adjustment (adds fill characters to the left): see
                              std::right
                  internal    internal adjustment (adds fill characters to the internal
                              designated point): see std::internal
                  adjustfield left|right|internal. Useful for masking operations
                              generate floating point types using scientific notation,
                  scientific  or hex notation if combined with fixed: see
                              std::scientific
                              generate floating point types using fixed notation, or
   fmtflags       fixed       hex notation if combined with scientific: see std::fixed

                  floatfield  scientific|fixed. Useful for masking operations
                  boolalpha   insert and extract bool type in alphanumeric format: see
                              std::boolalpha
                              generate a prefix indicating the numeric base for integer
                  showbase    output, require the currency indicator in monetary I/O:
                              see std::showbase
                  showpoint   generate a decimal-point character unconditionally for
                              floating-point number output: see std::showpoint
                  showpos     generate a + character for non-negative numeric output:
                              see std::showpos
                  skipws      skip leading whitespace before certain input operations:
                              see std::skipws
                  unitbuf     flush the output after each output operation: see
                              std::unitbuf
                              replace certain lowercase letters with their uppercase
                  uppercase   equivalents in certain output operations: see
                              std::uppercase

                  \fI(typedef)\fP
                  state of the stream type

                  The following constants are also defined:

                  Constant Explanation
   iostate        goodbit  no error
                  badbit   irrecoverable stream error
                  failbit  input/output operation failed (formatting or extraction
                           error)
                  eofbit   associated input sequence has reached end-of-file

                  \fI(typedef)\fP
                  seeking direction type

                  The following constants are also defined:

   seekdir        Constant Explanation
                  beg      the beginning of a stream
                  end      the ending of a stream
                  cur      the current position of stream position indicator

                  \fI(typedef)\fP
   event          specifies event type
                  \fI(enum)\fP
   event_callback callback function type
                  \fI(typedef)\fP

.SH See also

   getline read data from an I/O stream into a string
           \fI(function template)\fP

.SH Example


// Run this code

 #include <iostream>
 #include <fstream>
 #include <string>

 int main() {
   std::string filename = "test.bin";
   std::fstream s(filename, s.binary | s.trunc | s.in | s.out);
   if (!s.is_open()) {
     std::cout << "failed to open " << filename << '\\n';
   } else {
     // write
     double d = 3.14;
     s.write(reinterpret_cast<char*>(&d), sizeof d); // binary output
     s << 123 << "abc";                              // text output

     // for fstream, this moves the file position pointer (both put and get)
     s.seekp(0);

     // read
     s.read(reinterpret_cast<char*>(&d), sizeof d); // binary input
     int n;
     std::string str;
     if (s >> n >> str)                             // text input
       std::cout << "read back from file: " << d << ' ' << n << ' ' << str << '\\n';
   }
 }

.SH Output:

 read back from file: 3.14 123 abc
